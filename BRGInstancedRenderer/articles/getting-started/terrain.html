<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Terrain | BRG Instanced Renderer </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Terrain | BRG Instanced Renderer ">
      <meta name="description" content="Documentation for BRG Instanced Renderer.">
      
      <link rel="icon" href="../../favicon.ico">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="../../toc.html">
      <meta name="docfx:tocrel" content="../toc.html">
      
      <meta name="docfx:rel" content="../../">
      
      
      
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../logo.png" alt="BRG Instanced Renderer">
            BRG Instanced Renderer
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="terrain">Terrain</h1>

<hr>
<p>The <strong>BRG Terrain Registerer</strong> component enables GPU-instanced rendering for Unity Terrain trees and details. Trees are extracted once at startup, while details stream dynamically around the camera using C# Jobs and Burst Compiler.</p>
<h2 id="setup">Setup</h2>
<h3 id="1-add-the-component">1. Add the Component</h3>
<p>Add the <strong>BRG Terrain Registerer</strong> component to any GameObject that has a <strong>Terrain</strong> component. One registerer per terrain.</p>
<h3 id="2-configure-settings">2. Configure Settings</h3>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Disable Built-In Rendering</strong></td>
<td>Disables the terrain's native tree and detail rendering so BRG takes over (default: enabled)</td>
</tr>
<tr>
<td><strong>Detail Chunk Size</strong></td>
<td>World-space size of detail streaming cells in meters (default: 32m). Snapped to terrain patch boundaries.</td>
</tr>
</tbody>
</table>
<h3 id="3-enter-play-mode">3. Enter Play Mode</h3>
<p>Trees are extracted and uploaded automatically when the component initializes. Details begin streaming around the active camera.</p>
<p>That's it â€” no conversion step needed. The component handles everything on its own.</p>
<h2 id="how-trees-work">How Trees Work</h2>
<p>Tree instances are read from the terrain data once at startup. They are spatially batched into chunks and uploaded as permanent instances. Trees use the prefab assigned in Unity's terrain tree prototype settings.</p>
<p>If you paint or remove trees in the editor, the registerer detects the change and performs an incremental update automatically.</p>
<h2 id="how-details-work">How Details Work</h2>
<p>Terrain details (grass, flowers, small vegetation) are streamed in and out of GPU memory based on camera proximity. The system:</p>
<ol>
<li>Divides the terrain into a grid of patches based on <strong>Detail Chunk Size</strong></li>
<li>Loads patches near the camera using Burst-compiled extraction jobs</li>
<li>Unloads patches as the camera moves away</li>
</ol>
<p>This streaming approach allows millions of detail instances without loading everything upfront.</p>
<h2 id="per-prefab-settings">Per-Prefab Settings</h2>
<p>Just like prefab instances, terrain tree and detail prototypes support per-prefab customization via <a href="../components/brg-prototype-extra-data.html">BRG Prototype Extra Data</a>. Add the component to the prefab referenced by your terrain prototype to control shadow cascades, dynamic density, crossfade, and more.</p>
<h2 id="tips">Tips</h2>
<ul>
<li>Detail chunk size should match the scale of your terrain. Smaller values stream more precisely but create more chunks. 32m is a good default for most terrains.</li>
<li>For grass and small details, consider setting <strong>Max Shadow Cascade</strong> to 1 and disabling motion vectors via <a href="../components/brg-prototype-extra-data.html">BRG Prototype Extra Data</a> for significant performance gains.</li>
<li>Tree changes made with the terrain paint tool in the editor are detected automatically. Detail changes are also detected and updated incrementally.</li>
</ul>

</article>

        <div class="contribution d-print-none">
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          Copyright (c) 2026 Milk_Drinker01. All Rights Reserved.
        </div>
      </div>
    </footer>
  </body>
</html>
